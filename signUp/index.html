<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>signUp</title>
  <base href="../signUp/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="../templates/default/plugins/bootstrap/css/bootstrap.css">
  <link rel="stylesheet" href="css/signUp.css">
  <script src="../templates/default/plugins/jquery.min.js" type="text/javascript" charset="utf-8"></script>
  <script src="../templates/default/plugins/fastclick.js" type="text/javascript" charset="utf-8"></script>
  <script src="js/signUp.js" type="text/javascript" charset="utf-8"></script>
</head>
<body>

<div class="container">
  <div class="page-header">
    <h1>XXX活动(报名)</h1>
  </div>
  <form class="form-horizontal">
    <div class="form-group">
      <input type="text" id="formName" onblur="out('姓名',this)" class="form-control login-input col-xs-9" maxlength="50"
             placeholder="请输入姓名">
      <div class="clear"></div>
    </div>

    <div class="form-group">
      <input type="text" id="formAppellation" onblur="out('称谓',this)" class="form-control login-input col-xs-9"
             maxlength="50"
             placeholder="请输入称谓">
      <div class="clear"></div>
    </div>

    <div class="form-group">
      <input type="text" id="formPhone" onblur="out('电话号码',this)" class="form-control login-input col-xs-9"
             maxlength="50"
             placeholder="请输入电话号码">
      <div class="clear"></div>
    </div>

    <div class="form-group">
      <input type="text" id="formPosition" class="form-control login-input col-xs-9" onblur="out('职位',this)"
             maxlength="50"
             placeholder="请输入职位">
      <div class="clear"></div>
    </div>

    <div class="form-group">
      <div class="button custom-select" style="border-color: black;width: 100%;">
        <select id="formWorkingAreas" class="col-xs-9 form-control">
          <option value="0">
            请选择工作领域
          </option>
          <option value="1">请选择工作领域</option>
        </select>
        <div class="clear"></div>
      </div>
    </div>

    <div class="form-group">
      <input type="text" id="formEnterpriseName" onblur="out('企业名称',this)" class="form-control login-input col-xs-9"
             maxlength="50"
             placeholder="企业名称">
      <div class="clear"></div>
    </div>
    <p class="subscribe-form-msg"></p>
    <a href="javascript:;" onclick="submit()" id="registerAppBtn"
       class="registerApp-btn btn btn-info col-xs-12">提交
    </a>
    <div class="clear"></div>
  </form>
</div>

<script>
  // 顶部表单失去焦点检测
  function out(text, event) {
    var $_msg = $('.subscribe-form-msg');
    if ($(event).val() === '') {
      $_msg.html(text + '不能为空');
    } else {
      $_msg.html('');
    }
  }

  //顶部表单提交检测
  function submit() {
    var _self = this;
    var $_msg = $('.subscribe-form-msg');

    var $_name = $('#formName');
    var $_appellation = $('#formAppellation');
    var $_phone = $('#formPhone');
    var $_position = $('#formPosition');
    var $_workingAreas = $('#formWorkingAreas');
    var $_enterpriseName = $('#formEnterpriseName');
    if ($_name.val() === '') {
      $_msg.html('姓名不能为空');
      return false
    } else if ($_appellation.val() === '') {
      $_msg.html('称谓不能为空');
      return false
    } else if ($_phone.val() === '') {
      $_msg.html('电话号码不能为空');
      return false
    } else if ($_position.val() === '') {
      $_msg.html('职位不能为空');
      return false
    } else if ($_workingAreas.val() === '') {
      $_msg.html('工作领域不能为空');
      return false
    } else if ($_enterpriseName.val() === '') {
      $_msg.html('企业名称不能为空');
      return false
    } else {
      if (!(/^1(3|4|5|7|8)\d{9}$/.test($_phone.val()))) {
        $_msg.html('电话格式错误');
        return false
      } else {
        console.log('提交')

        $.ajax({
          url: "../user/register",
          type: "POST",
          dataType: "json",
          data: {},
          success: function (data) {
            //请求成功时处理
          },
          error: function (error) {
            //请求出错处理
          }
        });

      }
    }
  }

</script>
</body>
</html>
